<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Map</title>
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <div class="form row">
        <div class="col-md-1 col-sm-2">
            <select class="form-control" id="cities">
                <option value="札幌">札幌</option>
                <option value="仙台">仙台</option>
                <option value="東京">東京</option>
                <option value="名古屋">名古屋</option>
                <option value="大阪">大阪</option>
                <option value="広島">広島</option>
                <option value="博多">博多</option>
                <option value="那覇">那覇</option>
            </select>
        </div>
    </div>
    <div class="map">
        <div id="map">ここにMapを表示</div>
    </div>
    <div class="events">
        <h3>messages</h3>
        <div id="messages"></div>
    </div>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBTGtAzG0PC8cK18MvvHn-XLyKfV4pwiRA&callback=initMap"
        type="text/javascript"></script>
    <script>
        let map;

        const option = {
            enableHighAccuracy: true,
            maximumAge: 20000,
            timeout: 1000000,
        };
        navigator.geolocation
            .getCurrentPosition(showPosition, showError, option);
        function showPosition(position) {
            const lat = position.coords.latitude;
            const lng = position.coords.longitude;
            console.log(lat, lng);
        }
        function showError(error) {
            let e = '';
            if (error.code == 1) {

                e = '位置情報が許可されてません';
            } else if (error.code == 2) {
                e = '現在位置を特定できません';
            } else if (error.code == 3) {
                e = '位置情報を取得する前にタイムアウトになりました';
            }
            alert('error:' + e);
        }
        function getP() {
            navigator.geolocation.getCurrentPosition(mapsInit, showError, option);
        }

        window.onload = function () {
            getPosition();
        }
    </script>
</body>

</html>